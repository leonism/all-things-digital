import{_ as ne,r as j,o as le,a as Y,c as n,b as o,d as e,e as $,f as Z,t as b,g as T,F as _,h as z,n as ie,i as M,w as q,p as ge,j as me,k as he,u as xe,l as ae,m as X,q as ve,v as ye,s as B,x as A,y as P,z as fe,T as pe}from"./main-i9f7EwPm.js";import{L as ke}from"./LazyOptimizedPicture-BHBZsYlw.js";import{p as V}from"./blog-data-CLJAN-Oi.js";const be={class:"flex items-start space-x-3 sm:space-x-4"},we={class:"flex-shrink-0"},Se={class:"flex-1 min-w-0"},$e=["innerHTML"],Ce=["innerHTML"],Me={class:"mt-2 sm:mt-3 flex flex-wrap items-center gap-2 sm:gap-4 text-xs text-gray-500 dark:text-gray-400"},Le=["innerHTML"],Te={class:"flex items-center"},_e={class:"hidden sm:inline"},Re={class:"sm:hidden"},Be={key:0,class:"hidden sm:flex items-center"},je={key:1,class:"hidden sm:flex items-center"},ze={key:0,class:"mt-2 flex flex-wrap gap-1"},Ee=["innerHTML"],De={key:0,class:"inline-flex items-center px-1.5 sm:px-2 py-0.5 rounded text-xs font-medium text-gray-500 dark:text-gray-400"},Ie={key:0,class:"flex-shrink-0"},Ve={class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300"},Ne={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-indigo-500 rounded-r"},He={__name:"SearchResultItem",props:{post:{type:Object,required:!0},isSelected:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1}},emits:["click","mouseenter"],setup(s){const x=j(!1),y=()=>{x.value=window.innerWidth<640};le(()=>{y(),window.addEventListener("resize",y)}),Y(()=>{window.removeEventListener("resize",y)});function C(k){if(!k)return"";try{return new Date(k).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return k}}function w(k){if(!k)return"";try{return new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return k}}return(k,u)=>{var g,v,f;return o(),n("div",{class:ie(["search-result-item group relative p-3 sm:p-4 rounded-lg border border-transparent hover:border-gray-200 dark:hover:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer transition-all duration-200",{"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800 selected":s.isSelected,"hover:shadow-md":!s.isSelected}]),onClick:u[0]||(u[0]=L=>k.$emit("click")),onMouseenter:u[1]||(u[1]=L=>k.$emit("mouseenter"))},[e("div",be,[e("div",we,[Z(ke,{src:((g=s.post.featuredImage)==null?void 0:g.src)||"all-things-digital/thumbnail-01-comp",alt:((v=s.post.featuredImage)==null?void 0:v.alt)||s.post.title,width:64,height:64,"img-class":"w-12 h-12 sm:w-16 sm:h-16 rounded-lg object-cover","loading-type":"skeleton"},null,8,["src","alt"])]),e("div",Se,[e("h3",{class:"text-sm sm:text-base font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors line-clamp-1 leading-tight",innerHTML:s.post._highlightedTitle||s.post.title},null,8,$e),e("p",{class:"mt-1 text-xs sm:text-sm text-gray-600 dark:text-gray-300 line-clamp-2 leading-relaxed",innerHTML:s.post._highlightedExcerpt||s.post._snippet||s.post.excerpt||"No description available"},null,8,Ce),e("div",Me,[e("span",{class:"inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs",innerHTML:s.post._highlightedCategory||s.post.category},null,8,Le),e("span",Te,[u[2]||(u[2]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("span",_e,b(C(s.post.date)),1),e("span",Re,b(w(s.post.date)),1)]),(f=s.post.author)!=null&&f.name?(o(),n("span",Be,[u[3]||(u[3]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),T(" "+b(s.post.author.name),1)])):$("",!0),s.post.readingTime?(o(),n("span",je,[u[4]||(u[4]=e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),T(" "+b(s.post.readingTime),1)])):$("",!0)]),s.post.tags&&s.post.tags.length>0?(o(),n("div",ze,[(o(!0),n(_,null,z(s.post._highlightedTags||s.post.tags.slice(0,x.value?2:3),(L,H)=>(o(),n("span",{key:H,class:"inline-flex items-center px-1.5 sm:px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300",innerHTML:typeof L=="string"?`#${L}`:`#${L}`},null,8,Ee))),128)),s.post.tags.length>(x.value?2:3)?(o(),n("span",De," +"+b(s.post.tags.length-(x.value?2:3))+" more ",1)):$("",!0)])):$("",!0)]),s.showScore&&s.post._searchScore?(o(),n("div",Ie,[e("span",Ve,b(Math.round(s.post._searchScore)),1)])):$("",!0),u[5]||(u[5]=e("div",{class:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1))]),s.isSelected?(o(),n("div",Ne)):$("",!0)],34)}}},oe=ne(He,[["__scopeId","data-v-4080165b"]]),Oe={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 border-gray-200 dark:border-gray-700 pb-0 mb-0"},Fe={class:"flex items-center space-x-2"},Ae={key:0},Pe={class:"text-gray-900 dark:text-white"},Ue={key:0,class:"ml-1"},Ke={class:"text-gray-900 dark:text-white"},Qe={key:1},Je={class:"text-gray-900 dark:text-white"},Ge={key:2},We={key:0,class:"flex items-center space-x-1"},Xe={key:0,class:"mb-4"},Ye={class:"flex items-center space-x-2 text-xs"},Ze={class:"flex flex-wrap gap-2"},qe=["onClick"],et={class:"ml-1 text-xs opacity-75"},tt={key:1,class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 mb-4"},st={__name:"SearchStats",props:{totalResults:{type:Number,default:0},query:{type:String,default:""},searchTime:{type:Number,default:null},categories:{type:Array,default:()=>[]},showSuggestions:{type:Boolean,default:!0}},emits:["filter-category"],setup(s){return(x,y)=>(o(),n(_,null,[e("div",Oe,[e("div",Fe,[s.totalResults>0?(o(),n("span",Ae,[e("strong",Pe,b(s.totalResults),1),T(" "+b(s.totalResults===1?"result":"results")+" ",1),s.query?(o(),n("span",Ue,[y[0]||(y[0]=T(" for ")),e("strong",Ke,'"'+b(s.query)+'"',1)])):$("",!0)])):s.query?(o(),n("span",Qe,[y[1]||(y[1]=T(" No results found for ")),e("strong",Je,'"'+b(s.query)+'"',1)])):(o(),n("span",Ge," Start typing to search... "))]),s.searchTime!==null?(o(),n("div",We,[y[2]||(y[2]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,b(s.searchTime)+"ms ",1)])):$("",!0)]),s.totalResults>0&&s.categories.length>0?(o(),n("div",Xe,[e("div",Ye,[y[3]||(y[3]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Filter by:",-1)),e("div",Ze,[(o(!0),n(_,null,z(s.categories,C=>(o(),n("button",{key:C.name,onClick:w=>x.$emit("filter-category",C.name),class:ie(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium transition-colors",C.active?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},[T(b(C.name)+" ",1),e("span",et,"("+b(C.count)+")",1)],10,qe))),128))])])])):$("",!0),s.totalResults===0&&s.query&&s.showSuggestions?(o(),n("div",tt,y[4]||(y[4]=[e("h3",{class:"text-sm font-medium text-gray-900 dark:text-white mb-2"}," Try these suggestions: ",-1),e("ul",{class:"text-sm text-gray-600 dark:text-gray-300 space-y-1"},[e("li",null,"• Check your spelling"),e("li",null,"• Try different keywords"),e("li",null,"• Use more general terms"),e("li",null,"• Browse by categories or tags below")],-1)]))):$("",!0)],64))}},rt={key:0,class:"border-t border-gray-200 dark:border-gray-700 pt-4"},at={class:"space-y-3"},ot={key:0},nt={class:"flex flex-wrap gap-2"},lt=["onClick"],it={key:1},ut={class:"flex flex-wrap gap-2"},dt=["onClick"],ct={key:2},gt={class:"flex flex-wrap gap-2"},mt=["onClick"],ht={key:3},xt={class:"space-y-1"},vt=["onClick"],yt={__name:"SearchSuggestions",props:{suggestions:{type:Array,default:()=>[]},maxSuggestions:{type:Number,default:6}},emits:["suggestion-click"],setup(s){const x=s,y=M(()=>x.suggestions.filter(u=>u.type==="category").map(u=>u.value).slice(0,Math.floor(x.maxSuggestions/3))),C=M(()=>x.suggestions.filter(u=>u.type==="tag").map(u=>u.value).slice(0,Math.floor(x.maxSuggestions/3))),w=M(()=>x.suggestions.filter(u=>u.type==="author").map(u=>u.value).slice(0,Math.floor(x.maxSuggestions/3))),k=M(()=>x.suggestions.filter(u=>u.type==="popular").map(u=>u.value).slice(0,5));return(u,g)=>s.suggestions.length>0?(o(),n("div",rt,[g[8]||(g[8]=e("h3",{class:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"}," Search Suggestions ",-1)),e("div",at,[y.value.length>0?(o(),n("div",ot,[g[1]||(g[1]=e("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"}," Categories ",-1)),e("div",nt,[(o(!0),n(_,null,z(y.value,v=>(o(),n("button",{key:v,onClick:f=>u.$emit("suggestion-click",v),class:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors"},[g[0]||(g[0]=e("svg",{class:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),T(" "+b(v),1)],8,lt))),128))])])):$("",!0),C.value.length>0?(o(),n("div",it,[g[3]||(g[3]=e("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"}," Tags ",-1)),e("div",ut,[(o(!0),n(_,null,z(C.value,v=>(o(),n("button",{key:v,onClick:f=>u.$emit("suggestion-click",v),class:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors"},[g[2]||(g[2]=e("svg",{class:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 20l4-16m2 16l4-16M6 9h14M4 15h14"})],-1)),T(" "+b(v),1)],8,dt))),128))])])):$("",!0),w.value.length>0?(o(),n("div",ct,[g[5]||(g[5]=e("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"}," Authors ",-1)),e("div",gt,[(o(!0),n(_,null,z(w.value,v=>(o(),n("button",{key:v,onClick:f=>u.$emit("suggestion-click",v),class:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors"},[g[4]||(g[4]=e("svg",{class:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),T(" "+b(v),1)],8,mt))),128))])])):$("",!0),k.value.length>0?(o(),n("div",ht,[g[7]||(g[7]=e("h4",{class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-2"}," Popular Searches ",-1)),e("div",xt,[(o(!0),n(_,null,z(k.value,v=>(o(),n("button",{key:v,onClick:f=>u.$emit("suggestion-click",v),class:"flex items-center w-full px-3 py-2 text-sm text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[g[6]||(g[6]=e("svg",{class:"w-4 h-4 mr-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),T(" "+b(v),1)],8,vt))),128))])])):$("",!0)])])):$("",!0)}};function ft(){const s=j(""),x=j([]),y=j(!1),C=j({total:0,time:0}),w=j(-1),k={minQueryLength:1,maxResults:50,highlightPreTag:'<mark class="bg-yellow-200 dark:bg-yellow-800 px-1 rounded">',highlightPostTag:"</mark>"};function u(t,d){const l=[],p=t.length,i=d.length;if(p===0)return i;if(i===0)return p;for(let m=0;m<=p;m++)l[m]=[m];for(let m=0;m<=i;m++)l[0][m]=m;for(let m=1;m<=p;m++)for(let S=1;S<=i;S++){const N=t[m-1]===d[S-1]?0:1;l[m][S]=Math.min(l[m-1][S]+1,l[m][S-1]+1,l[m-1][S-1]+N)}const h=Math.max(p,i);return(h-l[p][i])/h}function g(t,d){if(!t||!d)return t;const l=new RegExp(`(${d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.replace(l,`${k.highlightPreTag}$1${k.highlightPostTag}`)}function v(t,d,l=150){if(!t||!d)return"";const p=t.toLowerCase(),i=d.toLowerCase(),h=p.indexOf(i);if(h===-1)return t.substring(0,l)+(t.length>l?"...":"");const m=Math.max(0,h-50),S=Math.min(t.length,m+l),N=t.substring(m,S);return(m>0?"...":"")+N+(S<t.length?"...":"")}function f(t,d){var i;const l=d.toLowerCase();let p=0;if(t.title){const h=t.title.toLowerCase();h.includes(l)&&(p+=h.indexOf(l)===0?100:80),p+=u(h,l)*50}return t.tags&&(t.tags.some(S=>S.toLowerCase()===l)&&(p+=90),t.tags.some(S=>S.toLowerCase().includes(l))&&(p+=60)),t.category&&t.category.toLowerCase().includes(l)&&(p+=70),t.excerpt&&t.excerpt.toLowerCase().includes(l)&&(p+=40),(i=t.author)!=null&&i.name&&t.author.name.toLowerCase().includes(l)&&(p+=30),t.contentHtml&&t.contentHtml.toLowerCase().includes(l)&&(p+=20),p}function L(t){const d=performance.now();if(y.value=!0,!t||t.length<k.minQueryLength){x.value=[],C.value={total:0,time:0},y.value=!1;return}const l=V.map(i=>{var m;const h=f(i,t);return h>0?{...i,_searchScore:h,_highlightedTitle:g(i.title,t),_highlightedExcerpt:g(v(i.excerpt||i.description||"",t),t),_highlightedCategory:g(i.category,t),_highlightedTags:((m=i.tags)==null?void 0:m.map(S=>g(S,t)))||[],_snippet:v(i.excerpt||i.description||"",t)}:null}).filter(Boolean).sort((i,h)=>h._searchScore-i._searchScore).slice(0,k.maxResults),p=performance.now();x.value=l,C.value={total:l.length,time:Math.round(p-d)},y.value=!1,w.value=-1}const H=M(()=>{const t={};return x.value.forEach(d=>{const l=d.category||"Uncategorized";t[l]||(t[l]=[]),t[l].push(d)}),t}),D=j([]);function U(t){if(!t||t.length<2)return;const d=D.value.filter(l=>l!==t);d.unshift(t),D.value=d.slice(0,5);try{localStorage.setItem("search-recent",JSON.stringify(D.value))}catch{console.warn("Could not save recent searches to localStorage")}}function Q(){try{const t=localStorage.getItem("search-recent");t&&(D.value=JSON.parse(t))}catch{console.warn("Could not load recent searches from localStorage")}}function K(t){const d=x.value.length-1;t==="down"?w.value=w.value<d?w.value+1:0:t==="up"&&(w.value=w.value>0?w.value-1:d)}function O(){return w.value>=0&&x.value[w.value]?x.value[w.value]:null}function J(){s.value="",x.value=[],w.value=-1,C.value={total:0,time:0}}const G=M(()=>{if(!s.value||s.value.length<2)return{categories:[...new Set(V.map(i=>i.category))].slice(0,5),tags:[...new Set(V.flatMap(i=>i.tags||[]))].slice(0,8),authors:[...new Set(V.map(i=>{var h;return(h=i.author)==null?void 0:h.name}).filter(Boolean))].slice(0,3)};const t=s.value.toLowerCase(),d=[...new Set(V.map(i=>i.category))].filter(i=>i.toLowerCase().includes(t)).slice(0,3),l=[...new Set(V.flatMap(i=>i.tags||[]))].filter(i=>i.toLowerCase().includes(t)).slice(0,5),p=[...new Set(V.map(i=>{var h;return(h=i.author)==null?void 0:h.name}).filter(Boolean))].filter(i=>i.toLowerCase().includes(t)).slice(0,2);return{categories:d,tags:l,authors:p}});return q(s,t=>{L(t)},{immediate:!1}),Q(),{searchQuery:s,searchResults:x,isSearching:y,searchStats:C,selectedIndex:w,recentSearches:D,groupedResults:H,searchSuggestions:G,performSearch:L,clearSearch:J,navigateResults:K,selectResult:O,addToRecentSearches:U,highlightText:g,extractSnippet:v}}const pt={class:"relative w-full max-w-xs sm:max-w-sm md:max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 mx-2 sm:mx-4 max-h-[95vh] sm:max-h-[90vh] md:max-h-[80vh] flex flex-col",style:{"box-shadow":`0 25px 50px -12px rgba(0, 0, 0, 0.25),
            0 0 0 1px rgba(255, 255, 255, 0.05)`},role:"dialog","aria-modal":"true","aria-labelledby":"search-modal-title"},kt={class:"p-3 sm:p-4 pr-12 sm:pr-16 border-b border-gray-200 dark:border-gray-700"},bt={class:"relative"},wt=["onKeydown"],St={class:"mt-2"},$t={class:"flex-1 overflow-hidden"},Ct={key:0,class:"p-6 text-center"},Mt={key:1,class:"p-4 space-y-6"},Lt={key:0},Tt={class:"flex flex-wrap gap-2"},_t=["onClick"],Rt={key:2,class:"overflow-y-auto max-h-48 sm:max-h-64 md:max-h-80 lg:max-h-96"},Bt={key:0,class:"p-3 sm:p-4 space-y-4 sm:space-y-6"},jt={class:"text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 mb-2 sm:mb-3 uppercase tracking-wide"},zt={class:"space-y-1 sm:space-y-2"},Et={key:1,class:"p-3 sm:p-4 space-y-1 sm:space-y-2"},Dt={key:3,class:"p-6 text-center"},It={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Vt={class:"font-medium"},Nt={class:"mt-4"},Ht={class:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 rounded-bl-2xl rounded-br-2xl"},Ot={class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},Ft={class:"flex items-center space-x-1 sm:space-x-2"},At=["srcset"],Pt=["srcset"],Ut=["src"],Kt={__name:"EnhancedSearchModal",props:{showModal:{type:Boolean,default:!1}},emits:["close"],setup(s,{emit:x}){const y=M(()=>ge),C=M(()=>me),w=M(()=>he),k=s,u=x,g=xe(),v=j(null),{searchQuery:f,searchResults:L,isSearching:H,searchStats:D,recentSearches:U,searchSuggestions:Q,navigateResults:K,clearSearch:O,addToRecentSearches:J}=ft(),G=M(()=>{var a;return((a=D.value)==null?void 0:a.time)||null}),t=j(null),d=j(-1),l=M(()=>t.value?L.value.filter(a=>(a.category||"Other")===t.value):L.value),p=M(()=>{const a={};return L.value.forEach(r=>{const c=r.category||"Other";a[c]||(a[c]={name:c,count:0,active:t.value===c}),a[c].count++}),Object.values(a)}),i=M(()=>{const a={};return l.value.forEach(r=>{const c=r.category||"Other";a[c]||(a[c]=[]),a[c].push(r)}),a}),h=M(()=>{var c,E,R;const a=Q.value||{categories:[],tags:[],authors:[]},r=[];return(c=a.categories)==null||c.forEach(I=>{r.push({type:"category",value:I})}),(E=a.tags)==null||E.forEach(I=>{r.push({type:"tag",value:I})}),(R=a.authors)==null||R.forEach(I=>{r.push({type:"author",value:I})}),f.value||["Vue.js","JavaScript","Web Development","Frontend","CSS"].forEach(W=>{r.push({type:"popular",value:W})}),r});function m(a){return l.value.findIndex(r=>r.slug===a.slug)}function S(a){J(f.value),g.push(`/blog/${a.slug}`),F()}function N(){const a=l.value;a.length>0&&d.value>=0&&d.value<a.length&&S(a[d.value])}function ee(){if(!f.value&&h.value.length>0){const a=h.value.find(r=>r.type==="category")||h.value[0];a&&(f.value=a.value)}}function F(){O(),t.value=null,u("close")}function ue(){document.body.style.overflow="hidden"}function te(){document.body.style.overflow=""}function de(a){t.value===a?t.value=null:t.value=a,d.value=0}function se(a){const r=l.value.length-1;r<0||(a==="down"?d.value=d.value<r?d.value+1:0:a==="up"&&(d.value=d.value>0?d.value-1:r),ae(()=>{const c=document.querySelector(".search-result-item.selected");c&&c.scrollIntoView({block:"nearest",behavior:"smooth"})}))}function ce(a){f.value=a}function re(a){if(a.key==="/"&&!k.showModal){a.preventDefault();return}if(k.showModal)switch(a.key){case"Escape":a.preventDefault(),F();break;case"ArrowDown":a.preventDefault(),K("down");break;case"ArrowUp":a.preventDefault(),K("up");break;case"Enter":a.preventDefault(),N();break;case"Tab":f.value||(a.preventDefault(),ee());break}}return q(()=>k.showModal,a=>{a?(ue(),d.value=-1,ae(()=>{var r;(r=v.value)==null||r.focus()})):(te(),d.value=-1)}),q([f,t],()=>{d.value=l.value.length>0?0:-1}),Y(()=>{te()}),le(()=>{document.addEventListener("keydown",re)}),Y(()=>{document.removeEventListener("keydown",re)}),(a,r)=>(o(),X(pe,{to:"body"},[s.showModal?(o(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-start justify-center pt-2 sm:pt-4 md:pt-8 lg:pt-16 bg-gray-900/75 backdrop-blur-sm",onClick:P(F,["self"]),onKeydown:A(F,["esc"])},[e("div",pt,[e("button",{onClick:F,class:"absolute sm:-p-2 md:ml-3 md:p-2 md:mt-1 top-6 sm:top-4 right-4 sm:right-5 z-10 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Close search modal"},r[4]||(r[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e("div",kt,[e("div",bt,[r[5]||(r[5]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),ve(e("input",{ref_key:"searchInput",ref:v,"onUpdate:modelValue":r[0]||(r[0]=c=>fe(f)?f.value=c:null),type:"search",placeholder:"Search posts, categories, tags...",class:"block w-full pl-9 sm:pl-10 pr-14 sm:pr-16 py-2.5 sm:py-3 border-0 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:bg-white dark:focus:bg-gray-700 transition-colors text-sm sm:text-base",onKeydown:[r[1]||(r[1]=A(P(c=>se("down"),["prevent"]),["down"])),r[2]||(r[2]=A(P(c=>se("up"),["prevent"]),["up"])),A(P(N,["prevent"]),["enter"]),A(P(ee,["prevent"]),["tab"])]},null,40,wt),[[ye,B(f)]]),r[6]||(r[6]=e("div",{class:"absolute inset-y-0 right-0 pr-3 sm:pr-4 flex items-center"},[e("kbd",{class:"inline-flex items-center px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs font-medium text-gray-500 bg-gray-100 dark:bg-gray-700 dark:text-gray-400 rounded border border-gray-300 dark:border-gray-600"}," ESC ")],-1))]),e("div",St,[Z(st,{"total-results":l.value.length,query:B(f),"search-time":G.value,categories:p.value,onFilterCategory:de},null,8,["total-results","query","search-time","categories"])])]),e("div",$t,[B(H)?(o(),n("div",Ct,r[7]||(r[7]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mx-auto"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Searching... ",-1)]))):B(f)?l.value.length>0?(o(),n("div",Rt,[Object.keys(i.value).length>1&&!t.value?(o(),n("div",Bt,[(o(!0),n(_,null,z(i.value,(c,E)=>(o(),n("div",{key:E},[e("h3",jt,b(E)+" ("+b(c.length)+") ",1),e("div",zt,[(o(!0),n(_,null,z(c,(R,I)=>(o(),X(oe,{key:R.slug,post:R,"is-selected":d.value===m(R),onClick:W=>S(R),onMouseenter:W=>d.value=m(R)},null,8,["post","is-selected","onClick","onMouseenter"]))),128))])]))),128))])):(o(),n("div",Et,[(o(!0),n(_,null,z(l.value,(c,E)=>(o(),X(oe,{key:c.slug,post:c,"is-selected":d.value===E,onClick:R=>S(c),onMouseenter:R=>d.value=E},null,8,["post","is-selected","onClick","onMouseenter"]))),128))]))])):B(f)?(o(),n("div",Dt,[r[11]||(r[11]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.009-5.824-2.562M15 6.306a7.962 7.962 0 00-6 0m6 0V5a2 2 0 00-2-2H9a2 2 0 00-2 2v1.306m8 0V7a2 2 0 012 2v6.414l-1.293-1.293a1 1 0 00-1.414 0L12 16.414l-2.293-2.293a1 1 0 00-1.414 0L7 15.414V9a2 2 0 012-2h6a2 2 0 012 2v6.414z"})],-1)),r[12]||(r[12]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-white"}," No results found ",-1)),e("p",It,[r[9]||(r[9]=T(' No posts found for "')),e("span",Vt,b(B(f)),1),r[10]||(r[10]=T('" '))]),e("div",Nt,[e("button",{onClick:r[3]||(r[3]=(...c)=>B(O)&&B(O)(...c)),class:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-500 dark:hover:text-indigo-300"}," Clear search ")])])):$("",!0):(o(),n("div",Mt,[B(U).length>0?(o(),n("div",Lt,[r[8]||(r[8]=e("h3",{class:"text-sm font-medium text-gray-900 dark:text-white mb-3"}," Recent Searches ",-1)),e("div",Tt,[(o(!0),n(_,null,z(B(U),c=>(o(),n("button",{key:c,onClick:E=>f.value=c,class:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"},b(c),9,_t))),128))])])):$("",!0),Z(yt,{suggestions:h.value,"max-suggestions":12,onSuggestionClick:ce},null,8,["suggestions"])]))]),e("div",Ht,[e("div",Ot,[r[15]||(r[15]=e("div",{class:"flex items-center space-x-2 sm:space-x-4"},[e("span",{class:"flex items-center"},[e("kbd",{class:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-xs"},"↑↓"),e("span",{class:"ml-1 sm:ml-2 hidden sm:inline"},"Navigate"),e("span",{class:"ml-1 sm:hidden"},"Nav")]),e("span",{class:"flex items-center"},[e("kbd",{class:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded text-xs"},"↵"),e("span",{class:"ml-1 sm:ml-2 hidden sm:inline"},"Select"),e("span",{class:"ml-1 sm:hidden"},"OK")])],-1)),e("div",Ft,[e("picture",null,[e("source",{srcset:w.value,type:"image/avif"},null,8,At),e("source",{srcset:C.value,type:"image/webp"},null,8,Pt),e("img",{src:y.value,alt:"Logo",class:"w-7 h-7 md:w-9 md:h-9 border border-gray-300 dark:border-none rounded-full opacity-90 dark:grayscale dark:opacity-40 border-gray-300 hover:opacity-80 hover:grayscale-0 transition-all duration-300"},null,8,Ut)]),r[13]||(r[13]=e("span",{class:"hidden sm:inline"},"Search powered by Vue",-1)),r[14]||(r[14]=e("span",{class:"sm:hidden text-xs"},"Vue Search",-1))])])])])],32)):$("",!0)]))}},Wt=ne(Kt,[["__scopeId","data-v-43f8203c"]]);export{Wt as default};
